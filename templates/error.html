{% extends 'base/base.html' %}

{% block Sidebar %}<!-- Removed Sidebar -->{% endblock %}
{% block Header %}<!-- Removed Header -->{% endblock %}
{% block Footer %}<!-- Removed Footer -->{% endblock %}

{% block Content %}
<div class="container" style="min-height: 1000px;">
    <div class="row justify-content-center" dir="ltr">
        <div class="col-md-8">
            <div class="card mt-5">
                <div class="card-header bg-danger text-white">
                    <h3>{{ Error_Detail.name }} {{ Error_Detail.code }}</h3>
                </div>
                <div class="card-body">
                    <p class="text-muted">{{ Error_Detail.description }}</p>
                    <div class="text-center mt-4">
                        <!-- Go Back Button -->
                        <button onclick="window.history.back()" class="btn btn-primary">
                            <i class="bi bi-arrow-left-circle"></i> بازگشت
                        </button>
                        <!-- Show Details Button -->
                        <button type="button" class="btn btn-info" data-bs-toggle="modal" data-bs-target="#errorDetailsModal">
                            <i class="bi bi-info-circle"></i> جزئیات
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="errorDetailsModal" tabindex="-1" aria-labelledby="errorDetailsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="errorDetailsModalLabel">جزئیات خطا</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" dir="ltr">
                <h6>Error Name:</h6>
                <p>{{ Error_Detail.name }}</p>
                <h6>Error Code:</h6>
                <p>{{ Error_Detail.code }}</p>
                <h6>Description:</h6>
                <p>{{ Error_Detail.description }}</p>
                <h6>URL Address:</h6>
                <p>{{ Error_Detail.url }}</p>
                <h6>Timestamp:</h6>
                <p>{{ Error_Detail.timestamp }}</p>
                {% if Current_User.is_authenticated %}
                    <h6>File:</h6>
                    <p>{{ Error_Detail.filename }}</p>
                    {% if Current_User.admin %}
                        <h6>Form:</h6>
                        <pre>{{ Error_Detail.form }}</pre>
                        <h6>Traceback:</h6>
                        <pre>{{ Error_Detail.traceback }}</pre>
                    {% endif %}
                {% endif %}
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">بستن</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}